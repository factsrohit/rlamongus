<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <title>Dashboard - GPS Tracker</title>
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>

    <div class="container">
        <h1>Welcome to Real-Life Color Splash</h1>
        <p>Location Should Auto Update, If It Doesn't, Try:</p>

        <button class="neon" onclick="getLocation()">Refresh Current Location</button>
        
        <div class="info-box">
            <p id="location">ğŸ“ Your location will appear here...</p>
            <p id="loclastupdate">â³ Location hasn't been updated in DB.</p>
            <p id="nearbyPlayers">ğŸ•µï¸â€â™‚ï¸ NO players currently within your range.</p>
        </div>
        
        <p id="gameStatus">Loading game status...</p>
        <p id="playerRole">ğŸ•µï¸â€â™‚ï¸ Role: Loading...</p>
        <div id="tasks" class ="info-box">
            <h3>Your Tasks</h3>
            <ul id="taskList"></ul>
        </div>

        <button class="kill" id="killBtn" style="display: none;" onclick="kill()">ğŸ’€ Kill</button>
        <p id="cooldown"></p>

        <a href="/logout"><button class="neon" >ğŸšª Logout</button></a>

        <br><br>
    </div>
    <div id="admincontrols" class="container" style="display: none;">
        <h2>ADMIN CONTROLS</h2>
        <button class="neon" id="startGameBtn" onclick="startGame()">ReStart Game</button>
        <button class="alert" id="emergencystart"   onclick="startMeeting()">ğŸš¨ Start Emergency Meeting</button>
        <button class="alert" id="emergencyend" onclick="endMeeting()">âœ… End Emergency Meeting</button>
        <button class="alert" id="clearusers"  onclick="clearUsers()">âš ï¸ Clear All Users (Except Admin)</button>
        <div class="info-box">
        <form id="add-task-form" >
            <input type="text" name="question" placeholder="Task Question" required />
            <input type="text" name="answer" placeholder="Correct Answer" required />
            <input type="text" name="hint" placeholder="Hint" />
            <button type="submit">Add Task</button>
        </form>
        </div>
        
    </div>
    <div id="emergencyOverlay" class="overlay">
        <h2>ğŸš¨ Emergency Meeting ğŸš¨</h2>
        <p>All actions are disabled until the admin ends the meeting. Meet At the Server table</p>
    </div>
    <div id="winnerOverlay" class="overlay" style="display: none;">
        <h2 id="winnerMessage">ğŸ‰ Winner: </h2>
        <p>The game has ended. Please wait for the admin to restart the game.</p>
    </div>
    <script src="mainmenu.js"></script>

</body>
</html>
